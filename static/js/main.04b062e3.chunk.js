(this["webpackJsonptest-2"]=this["webpackJsonptest-2"]||[]).push([[0],{39:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),c=n(32),s=n.n(c),o=(n(39),n(10)),i=n(0),l=n.n(i),u=n(4),d=n(13),m=n(2),b=n(19),j=n(33),p=n(34),x=Object(p.a)({apiKey:"AIzaSyC-_nHZGUMOyMLwSwZIBKypP5lGxSFDYwk",authDomain:"react-android-6523e.firebaseapp.com",databaseURL:"https://react-android-6523e-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"react-android-6523e",storageBucket:"react-android-6523e.appspot.com",messagingSenderId:"269425320012",appId:"1:269425320012:web:921737c61e8abd190854e9"}),f=Object(j.a)(x),h=n(9),O={email:"",firstName:"",lastName:"",phoneNUmber:"",editMode:!1};function v(e){var t=e.user,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(O),j=Object(o.a)(i,2),p=j[0],x=j[1];function v(){return(v=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.t0=null===t||void 0===t?void 0:t.email,!e.t0){e.next=5;break}return e.next=5,Object(b.f)(Object(b.c)(f,t.email,p.email),p);case 5:setTimeout((function(){x(O)}),0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},className:"flex flex-col max-w-screen-lg mx-auto pt-2 px-2 top-0 ".concat(c&&"border rounded-md p-2 shadow-sm pb-4 mb-14"," "),children:[Object(h.jsx)("svg",{onClick:function(){return s((function(e){return!e}))},xmlns:"http://www.w3.org/2000/svg",className:"transform duration-300 text-gray-500 mb-2 ".concat(c?"rotate-45 text-red-500 w-6 h-6":"w-10 h-10"," cursor-pointer"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),c&&Object(h.jsxs)("div",{className:"flex flex-col space-y-3 overflow-hidden",children:[Object(h.jsxs)("div",{className:"flex space-x-2",children:[Object(h.jsx)("input",{required:!0,className:"w-full px-2 py-1 border rounded-md",value:p.firstName,name:"firstName",autoComplete:"off",onChange:function(e){return x(Object(d.a)(Object(d.a)({},p),{},Object(u.a)({},e.target.name,e.target.value)))},type:"text",placeholder:"First name"}),Object(h.jsx)("input",{required:!0,className:"w-full px-2 py-1 border rounded-md",value:p.lastName,name:"lastName",autoComplete:"off",onChange:function(e){return x(Object(d.a)(Object(d.a)({},p),{},Object(u.a)({},e.target.name,e.target.value)))},type:"text",placeholder:"Last name"})]}),Object(h.jsxs)("div",{className:"flex space-x-2",children:[Object(h.jsx)("input",{required:!0,value:p.email,name:"email",onChange:function(e){return x(Object(d.a)(Object(d.a)({},p),{},Object(u.a)({},e.target.name,e.target.value)))},className:"w-full px-2 py-1 border rounded-md",type:"text",placeholder:"Email"}),Object(h.jsx)("input",{value:p.phoneNUmber,name:"phoneNUmber",onChange:function(e){return x(Object(d.a)(Object(d.a)({},p),{},Object(u.a)({},e.target.name,e.target.value)))},className:"w-full px-2 py-1 border rounded-md",type:"number",placeholder:"Phone"})]}),Object(h.jsx)("button",{className:"py-1 text-white bg-blue-500 rounded-md",children:"ADD"})]})]})}var w=n(18);function g(e){var t=e.contact,n=e.setContacts,r=e.user,c=Object(a.useState)({name:"",phoneNumber:"",email:""}),s=Object(o.a)(c,2),i=s[0],u=s[1],j=Object(a.useRef)();function p(){return(p=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.b)(Object(b.c)(f,r.email,t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return x=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)(Object(b.c)(f,r.email,i.email),i);case 2:n((function(e){return e.map((function(e){return e.email===i.email?i:e}))})),n((function(e){return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{editMode:!1})}))}));case 4:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}return Object(h.jsxs)("div",{className:"relative flex flex-col p-3 m-2 space-y-1 duration-100 border rounded-md shadow-sm hover:shadow-md group",children:[Object(h.jsxs)("div",{className:"absolute flex space-x-2 duration-100 opacity-0 right-1 top-2 group-hover:opacity-100",children:[t.editMode?Object(h.jsx)("div",{onClick:function(){return x.apply(this,arguments)},className:"cursor-pointer FINISH_EDITING_BUTTON",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}):Object(h.jsx)("div",{onClick:function(){return u(e=t),n((function(t){return t.map((function(t){return t.email===e.email?Object(d.a)(Object(d.a)({},t),{},{editMode:!0}):Object(d.a)(Object(d.a)({},t),{},{editMode:!1})}))})),void setTimeout((function(){j.current.focus()}),0);var e},className:"cursor-pointer EDIT_BUTTON",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),Object(h.jsx)("div",{className:"text-red-500 cursor-pointer",onClick:function(){return function(e){return p.apply(this,arguments)}(t.email)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:["Name:\xa0",t.editMode?Object(h.jsx)("input",{ref:j,className:"inline-block px-2 text-lg font-bold bg-transparent rounded-sm bg-yellow-50",value:i.name,name:"name",onChange:function(e){return u(Object(d.a)(Object(d.a)({},i),{},{name:e.target.value}))}}):Object(h.jsx)("span",{className:"px-2 text-lg font-bold bg-transparent",children:t.name})]}),Object(h.jsxs)("div",{className:"break-words",children:["Email:\xa0",Object(h.jsx)("span",{className:"text-blue-500 underline cursor-pointer",children:t.email})]}),Object(h.jsxs)("div",{children:["Phone number: ",t.phoneNumber]})]})]})}function N(e){var t=e.user,n=Object(a.useState)([]),r=Object(o.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){if(null===t||void 0===t?void 0:t.email){var e=Object(b.a)(f,null===t||void 0===t?void 0:t.email);Object(b.e)(e,(function(e){e.docChanges().forEach((function(e){"added"===e.type&&s((function(t){return[].concat(Object(w.a)(t),[e.doc.data()])})),"removed"===e.type&&s((function(t){return t.filter((function(t){return(null===t||void 0===t?void 0:t.email)!==e.doc.data().email}))}))}))}))}}),[null===t||void 0===t?void 0:t.email]),Object(h.jsxs)("div",{className:"-mt-12",children:[Object(h.jsx)("h1",{className:"my-3 text-xl font-bold text-center text-blue-500",children:"Contacts"}),Object(h.jsx)("div",{style:{gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))"},className:"grid max-w-screen-lg mx-auto",children:null===c||void 0===c?void 0:c.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(g,{user:t,contact:e,setContacts:s})},e.email)}))})]})}var y=n(30);function k(e){var t=e.user;return Object(h.jsx)("nav",{className:"w-full py-2 mb-6 duration-100 bg-blue-600 shadow-md",children:Object(h.jsxs)("div",{className:"flex justify-between max-w-screen-lg px-10 mx-auto text-white ",children:[Object(h.jsxs)("h1",{className:"text-xl font-bold shadow-sm",children:[null===t||void 0===t?void 0:t.displayName,"'s Contacts"]}),Object(h.jsx)("button",{onClick:function(){Object(y.b)(Object(y.a)())},className:"px-2 transform border-2 border-white rounded-sm cursor-pointer active:scale-90",children:"Logout"})]})})}function C(e){var t=e.user;return Object(h.jsxs)("div",{className:"overflow-hidden",children:[Object(h.jsx)(k,{user:t}),Object(h.jsxs)("div",{className:"mx-4",children:[Object(h.jsx)(v,{user:t}),Object(h.jsx)(N,{user:t})]})]})}var L=n(24);var M=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(L.b)(Object(L.a)(),(function(e){console.log("user",e),r(e)})),Object(h.jsx)(C,{user:n})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(M,{})}),document.getElementById("root")),S()}},[[43,1,2]]]);
//# sourceMappingURL=main.04b062e3.chunk.js.map